# Bitspeed: Identity Reconciliation API

This project is a REST API built with **Node.js, Express, TypeScript, and Prisma** for Identity Reconciliation.  
It provides CRUD operations for managing contacts and is deployed on **Render** with PostgreSQL.

---

## ğŸš€ Features
- PostgreSQL with Prisma ORM
- Express.js REST API
- Contact CRUD (Create, Read, Update, Delete)
- Postman test collection (results included)
- Nodemon for development
- Render deployment ready

---

## ğŸ“‚ Project Structure
```
bitspeed/
â”‚â”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma      # Prisma schema
â”‚   â””â”€â”€ migrations/        # Auto-generated DB migrations
â”‚
â”‚â”€â”€ src/
â”‚   â”œâ”€â”€ controllers/       # Request handlers
â”‚   â”‚   â””â”€â”€ contactController.ts
â”‚   â”œâ”€â”€ routes/            # API routes
â”‚   â”‚   â””â”€â”€ contactRoute.ts
â”‚   â”œâ”€â”€ services/          # Business logic
â”‚   â”‚   â””â”€â”€ contactService.ts
â”‚   â”œâ”€â”€ utils/             # Helpers (e.g., prisma client)
â”‚   â”‚   â””â”€â”€ prisma.ts
â”‚   â””â”€â”€ index.ts           # Entry point
â”‚
â”‚â”€â”€ .gitignore
â”‚â”€â”€ nodemon.json
â”‚â”€â”€ package.json
â”‚â”€â”€ README.md
```

---

## âš¡ Installation

```bash
# Clone repo
git clone https://github.com/Amey1619/Bitspeed-assignment
cd bitspeed

# Install dependencies
npm install

# Setup environment
cp  .env   # add DATABASE_URL

# Run migrations
npx prisma migrate dev

# Start dev server
npm run dev
```

---

## ğŸ”‘ Environment Variables (`.env`)
```
DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DATABASE"
PORT=3000
```

---

## ğŸ“Œ API Endpoints

### ğŸ‘‰ Create Contact
```http
POST /contacts
Content-Type: application/json

{
  "name": "Alice",
  "email": "alice@example.com",
  "phone": "9876543210"
}
```

âœ… Response:
```json
{
  "id": 1,
  "name": "Alice",
  "email": "alice@example.com",
  "phone": "9876543210"
}
```

---

### ğŸ‘‰ Get All Contacts
```http
GET /contacts
```

âœ… Response:
```json
[
  {
    "id": 1,
    "name": "Alice",
    "email": "alice@example.com",
    "phone": "9876543210"
  }
]
```

---

### ğŸ‘‰ Get Contact by ID
```http
GET /contacts/1
```

âœ… Response:
```json
{
  "id": 1,
  "name": "Alice",
  "email": "alice@example.com",
  "phone": "9876543210"
}
```

---

### ğŸ‘‰ Update Contact
```http
PUT /contacts/1
Content-Type: application/json

{
  "name": "Alice Updated",
  "email": "alice@newmail.com",
  "phone": "9998887777"
}
```

âœ… Response:
```json
{
  "id": 1,
  "name": "Alice Updated",
  "email": "alice@newmail.com",
  "phone": "9998887777"
}
```

---

### ğŸ‘‰ Delete Contact
```http
DELETE /contacts/1
```

âœ… Response:
```json
{ "message": "Contact deleted successfully" }
```

---

## ğŸ“¬ Postman Tests (JavaScript Example)

Example Postman **test script** for checking contact creation:

```javascript
pm.test("Status code is 201", function () {
    pm.response.to.have.status(201);
});

pm.test("Response should contain name and email", function () {
    var jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property("name");
    pm.expect(jsonData).to.have.property("email");
});
```

---

## ğŸ›  Scripts
```bash
npm run dev   # Start dev server with nodemon
npm run build # Compile TypeScript
npm start     # Run compiled JS
```

---

## ğŸ‘¨â€ğŸ’» Author
**Amey gupta**

---
